// ZGF 2026 SMART Budget — Seed data compiled from Excel file
// Sheets: KaluluII + ZGF

export const FUNDING_SOURCES = ['All', 'KaluluII', 'ZGF'];

export const STRATEGIC_PILLARS = [
    'All',
    'Civic Education and Voter Information',
    'Democratic Governance and Human Rights',
    'Strengthening Communities',
    'Operations',
];

// Budget line items extracted from ZGF_2026_SMART_Budget.xlsx
export const budgetLines = [
    // ─── KaluluII ───────────────────────────────────────────────────────────────
    {
        id: 'KL-001',
        fundingSource: 'KaluluII',
        strategicPillar: 'Civic Education and Voter Information',
        objective: 'Civic Education & Voter Information',
        activity: 'Ward Based Civic Education',
        budgetCode: '4300-050-090-325',
        odooCode: '5800',
        odooCategory: 'Grants & Capacity Strengthening',
        zgfCode: '2.1.1',
        currency: 'ZMW',
        totalCost: 156000,
        q1: 39000, q2: 39000, q3: 39000, q4: 39000,
        spent: 0,
    },
    {
        id: 'KL-002',
        fundingSource: 'KaluluII',
        strategicPillar: 'Civic Education and Voter Information',
        objective: 'Civic Education & Voter Information',
        activity: 'Community Radio Broadcasts on Civic Issues',
        budgetCode: '4300-050-090-325',
        odooCode: '5800',
        odooCategory: 'Grants & Capacity Strengthening',
        zgfCode: '2.1.2',
        currency: 'ZMW',
        totalCost: 84000,
        q1: 21000, q2: 21000, q3: 21000, q4: 21000,
        spent: 0,
    },
    {
        id: 'KL-003',
        fundingSource: 'KaluluII',
        strategicPillar: 'Civic Education and Voter Information',
        objective: 'Civic Education & Voter Information',
        activity: 'Production of Civic Education IEC materials',
        budgetCode: '4300-050-090-325',
        odooCode: '5800',
        odooCategory: 'Grants & Capacity Strengthening',
        zgfCode: '2.1.3',
        currency: 'ZMW',
        totalCost: 45000,
        q1: 45000, q2: 0, q3: 0, q4: 0,
        spent: 0,
    },
    {
        id: 'KL-004',
        fundingSource: 'KaluluII',
        strategicPillar: 'Civic Education and Voter Information',
        objective: 'Civic Education & Voter Information',
        activity: 'Youth Civic Engagement Camps',
        budgetCode: '4300-050-090-325',
        odooCode: '5800',
        odooCategory: 'Grants & Capacity Strengthening',
        zgfCode: '2.1.4',
        currency: 'ZMW',
        totalCost: 95000,
        q1: 0, q2: 47500, q3: 47500, q4: 0,
        spent: 0,
    },
    {
        id: 'KL-005',
        fundingSource: 'KaluluII',
        strategicPillar: 'Civic Education and Voter Information',
        objective: 'Voter Education & Registration Support',
        activity: 'Voter Registration Support Drives',
        budgetCode: '4300-050-090-325',
        odooCode: '5800',
        odooCategory: 'Grants & Capacity Strengthening',
        zgfCode: '2.1.5',
        currency: 'ZMW',
        totalCost: 112000,
        q1: 0, q2: 56000, q3: 56000, q4: 0,
        spent: 0,
    },
    // ─── Democratic Governance ────────────────────────────────────────────────
    {
        id: 'KL-010',
        fundingSource: 'KaluluII',
        strategicPillar: 'Democratic Governance and Human Rights',
        objective: 'Governance Strengthening',
        activity: 'Ward Development Committee Capacity Building',
        budgetCode: '4300-050-090-325',
        odooCode: '5800',
        odooCategory: 'Grants & Capacity Strengthening',
        zgfCode: '2.2.1',
        currency: 'ZMW',
        totalCost: 128400,
        q1: 32100, q2: 32100, q3: 32100, q4: 32100,
        spent: 0,
    },
    {
        id: 'KL-011',
        fundingSource: 'KaluluII',
        strategicPillar: 'Democratic Governance and Human Rights',
        objective: 'Governance Strengthening',
        activity: 'Community Accountability Forums',
        budgetCode: '4300-050-090-325',
        odooCode: '5800',
        odooCategory: 'Grants & Capacity Strengthening',
        zgfCode: '2.2.2',
        currency: 'ZMW',
        totalCost: 76800,
        q1: 19200, q2: 19200, q3: 19200, q4: 19200,
        spent: 0,
    },
    {
        id: 'KL-012',
        fundingSource: 'KaluluII',
        strategicPillar: 'Democratic Governance and Human Rights',
        objective: 'Human Rights Promotion',
        activity: 'Human Rights Awareness Workshops',
        budgetCode: '4300-050-090-325',
        odooCode: '5800',
        odooCategory: 'Grants & Capacity Strengthening',
        zgfCode: '2.2.3',
        currency: 'ZMW',
        totalCost: 54000,
        q1: 13500, q2: 13500, q3: 13500, q4: 13500,
        spent: 0,
    },
    {
        id: 'KL-013',
        fundingSource: 'KaluluII',
        strategicPillar: 'Democratic Governance and Human Rights',
        objective: 'Human Rights Promotion',
        activity: 'Legal Aid Clinics for Vulnerable Communities',
        budgetCode: '4300-050-090-325',
        odooCode: '5800',
        odooCategory: 'Grants & Capacity Strengthening',
        zgfCode: '2.2.4',
        currency: 'ZMW',
        totalCost: 88000,
        q1: 22000, q2: 22000, q3: 22000, q4: 22000,
        spent: 0,
    },
    {
        id: 'KL-014',
        fundingSource: 'KaluluII',
        strategicPillar: 'Democratic Governance and Human Rights',
        objective: 'Gender and Social Inclusion',
        activity: "Women's Leadership Training",
        budgetCode: '4300-050-090-325',
        odooCode: '5800',
        odooCategory: 'Grants & Capacity Strengthening',
        zgfCode: '2.2.5',
        currency: 'ZMW',
        totalCost: 62400,
        q1: 0, q2: 31200, q3: 31200, q4: 0,
        spent: 0,
    },
    // ─── Strengthening Communities ─────────────────────────────────────────────
    {
        id: 'KL-020',
        fundingSource: 'KaluluII',
        strategicPillar: 'Strengthening Communities',
        objective: 'Community Development',
        activity: 'Community Needs Assessment',
        budgetCode: '4300-050-090-325',
        odooCode: '5800',
        odooCategory: 'Grants & Capacity Strengthening',
        zgfCode: '2.3.1',
        currency: 'ZMW',
        totalCost: 38000,
        q1: 38000, q2: 0, q3: 0, q4: 0,
        spent: 0,
    },
    {
        id: 'KL-021',
        fundingSource: 'KaluluII',
        strategicPillar: 'Strengthening Communities',
        objective: 'Community Development',
        activity: 'Youth Group Formation and Registration',
        budgetCode: '4300-050-090-325',
        odooCode: '5800',
        odooCategory: 'Grants & Capacity Strengthening',
        zgfCode: '2.3.2',
        currency: 'ZMW',
        totalCost: 48000,
        q1: 12000, q2: 12000, q3: 12000, q4: 12000,
        spent: 0,
    },
    {
        id: 'KL-022',
        fundingSource: 'KaluluII',
        strategicPillar: 'Strengthening Communities',
        objective: 'Monitoring and Evaluation',
        activity: 'Peer to peer learning visits',
        budgetCode: '4300-050-090-325',
        odooCode: '5800',
        odooCategory: 'Grants & Capacity Strengthening',
        zgfCode: '2.4.1',
        currency: 'ZMW',
        totalCost: 38120,
        q1: 0, q2: 19060, q3: 19060, q4: 0,
        spent: 0,
    },
    {
        id: 'KL-023',
        fundingSource: 'KaluluII',
        strategicPillar: 'Strengthening Communities',
        objective: 'Monitoring and Evaluation',
        activity: 'Monitoring and Compliance visits',
        budgetCode: '4300-050-090-325',
        odooCode: '5800',
        odooCategory: 'Grants & Capacity Strengthening',
        zgfCode: '2.4.1',
        currency: 'ZMW',
        totalCost: 78080,
        q1: 19520, q2: 19520, q3: 19520, q4: 19520,
        spent: 0,
    },
    {
        id: 'KL-030',
        fundingSource: 'KaluluII',
        strategicPillar: 'Strengthening Communities',
        objective: 'Capacity Development',
        activity: 'Skills Training for Youth Groups',
        budgetCode: '4300-050-090-325',
        odooCode: '5800',
        odooCategory: 'Grants & Capacity Strengthening',
        zgfCode: '2.3.3',
        currency: 'ZMW',
        totalCost: 92000,
        q1: 0, q2: 46000, q3: 46000, q4: 0,
        spent: 0,
    },
    // ─── KaluluII Operations / Overheads ───────────────────────────────────────
    {
        id: 'KL-040',
        fundingSource: 'KaluluII',
        strategicPillar: 'Operations',
        objective: 'Operational / Running costs',
        activity: 'Overheads (7%) of Direct Costs',
        budgetCode: '4300-050-090-325',
        odooCode: '5800',
        odooCategory: 'Operations / Running Costs',
        zgfCode: '4.5.4',
        currency: 'ZMW',
        totalCost: 78192.10,
        q1: 26443.90, q2: 27229.30, q3: 18794.30, q4: 5724.60,
        spent: 0,
    },
    {
        id: 'KL-041',
        fundingSource: 'KaluluII',
        strategicPillar: 'Operations',
        objective: 'Staff Costs',
        activity: 'Staff Input',
        budgetCode: '4300-050-090-320',
        odooCode: '5700',
        odooCategory: 'Staff Costs',
        zgfCode: '4.5.4',
        currency: 'ZMW',
        totalCost: 1917996.48,
        q1: 479499.12, q2: 517159.29, q3: 517159.29, q4: 517159.29,
        spent: 0,
    },
    // ─── ZGF ────────────────────────────────────────────────────────────────────
    {
        id: 'ZGF-001',
        fundingSource: 'ZGF',
        strategicPillar: 'Operations',
        objective: '1. Organisational Governance',
        activity: 'Convene ZGF AGM',
        budgetCode: '4300-050-090-325',
        odooCode: '5800',
        odooCategory: 'Operations / Running Costs',
        zgfCode: '4.1.4',
        currency: 'ZMW',
        totalCost: 45500,
        q1: 45500, q2: 0, q3: 0, q4: 0,
        spent: 0,
    },
    {
        id: 'ZGF-002',
        fundingSource: 'ZGF',
        strategicPillar: 'Operations',
        objective: '2. Asset Management',
        activity: 'Depreciation Charges',
        budgetCode: '4300-050-090-325',
        odooCode: '5800',
        odooCategory: 'Operations / Running Costs',
        zgfCode: '4.1.4',
        currency: 'ZMW',
        totalCost: 780000,
        q1: 195000, q2: 195000, q3: 195000, q4: 195000,
        spent: 0,
    },
    {
        id: 'ZGF-003',
        fundingSource: 'ZGF',
        strategicPillar: 'Operations',
        objective: '3. Clear Old Outstanding Liabilities',
        activity: 'Accrued liabilities - ZRA (25% penalties)',
        budgetCode: '4300-050-090-325',
        odooCode: '5800',
        odooCategory: 'Operations / Running Costs',
        zgfCode: '4.1.4',
        currency: 'ZMW',
        totalCost: 85000,
        q1: 0, q2: 85000, q3: 0, q4: 0,
        spent: 0,
    },
    {
        id: 'ZGF-004',
        fundingSource: 'ZGF',
        strategicPillar: 'Operations',
        objective: '4. Clear Old Outstanding Liabilities',
        activity: 'Accrued liabilities - Legal Fees',
        budgetCode: '4300-050-090-325',
        odooCode: '5800',
        odooCategory: 'Operations / Running Costs',
        zgfCode: '4.1.4',
        currency: 'ZMW',
        totalCost: 140000,
        q1: 35000, q2: 35000, q3: 35000, q4: 35000,
        spent: 0,
    },
    {
        id: 'ZGF-005',
        fundingSource: 'ZGF',
        strategicPillar: 'Operations',
        objective: '5. Indirect Costs',
        activity: 'General Overheads',
        budgetCode: '4300-050-090-325',
        odooCode: '5800',
        odooCategory: 'Operations / Running Costs',
        zgfCode: '4.1.4',
        currency: 'ZMW',
        totalCost: 42000,
        q1: 10500, q2: 10500, q3: 10500, q4: 10500,
        spent: 0,
    },
    {
        id: 'ZGF-006',
        fundingSource: 'ZGF',
        strategicPillar: 'Operations',
        objective: '6. Bank Charges',
        activity: 'Bank Charges - ZGF Corporate A/Cs',
        budgetCode: '4300-050-090-325',
        odooCode: '5800',
        odooCategory: 'Operations / Running Costs',
        zgfCode: '4.1.4',
        currency: 'ZMW',
        totalCost: 12000,
        q1: 3000, q2: 3000, q3: 3000, q4: 3000,
        spent: 0,
    },
];

// Sample payment requests (will be replaced by SharePoint/Supabase live data)
export const samplePaymentRequests = [
    {
        id: 'PR-2026-001',
        name: 'Ward Civic Education Materials Q1',
        budgetCode: '4300-050-090-325',
        budgetLineId: 'KL-001',
        year: 2026,
        amount: 39000,
        requestedBy: 'Manager CLD',
        status: 'Approved',
        date: '2026-01-15',
    },
    {
        id: 'PR-2026-002',
        name: 'Community Radio Broadcast Jan-Feb',
        budgetCode: '4300-050-090-325',
        budgetLineId: 'KL-002',
        year: 2026,
        amount: 21000,
        requestedBy: 'Programme Officer',
        status: 'Approved',
        date: '2026-01-20',
    },
    {
        id: 'PR-2026-003',
        name: 'IEC Materials Production',
        budgetCode: '4300-050-090-325',
        budgetLineId: 'KL-003',
        year: 2026,
        amount: 45000,
        requestedBy: 'Communications Officer',
        status: 'Pending',
        date: '2026-02-01',
    },
    {
        id: 'PR-2026-004',
        name: 'WDC Capacity Building Q1',
        budgetCode: '4300-050-090-325',
        budgetLineId: 'KL-010',
        year: 2026,
        amount: 32100,
        requestedBy: 'Manager CLD',
        status: 'Approved',
        date: '2026-02-05',
    },
    {
        id: 'PR-2026-005',
        name: 'ZGF AGM Sitting Allowances',
        budgetCode: '4300-050-090-325',
        budgetLineId: 'ZGF-001',
        year: 2026,
        amount: 45500,
        requestedBy: 'CEO',
        status: 'Approved',
        date: '2026-01-10',
    },
    {
        id: 'PR-2026-006',
        name: 'Youth Engagement Camp Venue Q2',
        budgetCode: '4300-050-090-325',
        budgetLineId: 'KL-004',
        year: 2026,
        amount: 47500,
        requestedBy: 'Youth Programme Officer',
        status: 'Pending',
        date: '2026-02-18',
    },
    {
        id: 'PR-2026-007',
        name: 'Human Rights Workshop Materials',
        budgetCode: '4300-050-090-325',
        budgetLineId: 'KL-012',
        year: 2026,
        amount: 13500,
        requestedBy: 'HR Officer',
        status: 'Rejected',
        date: '2026-02-10',
    },
    {
        id: 'PR-2026-008',
        name: 'Staff Input - January',
        budgetCode: '4300-050-090-320',
        budgetLineId: 'KL-041',
        year: 2026,
        amount: 159833.04,
        requestedBy: 'HoF',
        status: 'Approved',
        date: '2026-01-31',
    },
];

// Helper: compute spent amounts per budget line from approved requests
export function computeBudgetWithSpend(lines, requests) {
    const spentMap = {};
    requests.forEach((req) => {
        if (req.status === 'Approved') {
            spentMap[req.budgetLineId] = (spentMap[req.budgetLineId] || 0) + req.amount;
        }
    });
    return lines.map((line) => ({
        ...line,
        spent: spentMap[line.id] || 0,
        remaining: line.totalCost - (spentMap[line.id] || 0),
    }));
}

// Helper: format currency in ZMW
export function formatZMW(amount) {
    return new Intl.NumberFormat('en-ZM', {
        style: 'currency',
        currency: 'ZMW',
        minimumFractionDigits: 0,
        maximumFractionDigits: 0,
    }).format(amount);
}

// Helper: compute summary totals
export function computeSummary(lines) {
    const totalBudget = lines.reduce((s, l) => s + l.totalCost, 0);
    const totalSpent = lines.reduce((s, l) => s + (l.spent || 0), 0);
    const remaining = totalBudget - totalSpent;
    const pctUsed = totalBudget > 0 ? (totalSpent / totalBudget) * 100 : 0;
    return { totalBudget, totalSpent, remaining, pctUsed };
}
